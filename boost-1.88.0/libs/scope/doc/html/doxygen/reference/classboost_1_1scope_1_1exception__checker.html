<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Class exception_checker</title>
<link rel="stylesheet" href="../../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../index.html" title="Chapter 1. Boost.Scope">
<link rel="up" href="../../reference.html#doxygen.reference.exception__checker_8hpp" title="Header &lt;boost/scope/exception_checker.hpp&gt;">
<link rel="prev" href="error__code__checker_8hpp_1ab8a815ec04a8603fed78745d50382e87.html" title="Function template check_error_code">
<link rel="next" href="exception__checker_8hpp_1a29641e1fa2da14116686b4434b949d88.html" title="Function check_exception">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="error__code__checker_8hpp_1ab8a815ec04a8603fed78745d50382e87.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../reference.html#doxygen.reference.exception__checker_8hpp"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="exception__checker_8hpp_1a29641e1fa2da14116686b4434b949d88.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="doxygen.reference.classboost_1_1scope_1_1exception__checker"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class exception_checker</span></h2>
<p>boost::scope::exception_checker — A predicate for checking whether an exception is being thrown. </p>
</div>
<h2 class="refsynopsisdiv-title">Synopsis</h2>
<div class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../../reference.html#doxygen.reference.exception__checker_8hpp" title="Header &lt;boost/scope/exception_checker.hpp&gt;">boost/scope/exception_checker.hpp</a>&gt;

</span>
<span class="keyword">class</span> <a class="link" href="classboost_1_1scope_1_1exception__checker.html" title="Class exception_checker">exception_checker</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// types</span>
  <span class="keyword">typedef</span> <span class="keyword">bool</span> <a name="doxygen.reference.classboost_1_1scope_1_1exception__checker_1ada131968f475fecfae0af6dc0fa6fa64"></a><span class="identifier">result_type</span><span class="special">;</span>  <span class="comment">// Predicate result type. </span>

  <span class="comment">// <a class="link" href="classboost_1_1scope_1_1exception__checker.html#id4-bb">public member functions</a></span>
  <a class="link" href="classboost_1_1scope_1_1exception__checker.html#doxygen.reference.classboost_1_1scope_1_1exception__checker_1a9877123f826925bba34434b6b2f6227a"><span class="identifier">exception_checker</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <span class="identifier">result_type</span> <a class="link" href="classboost_1_1scope_1_1exception__checker.html#doxygen.reference.classboost_1_1scope_1_1exception__checker_1adfea1712dce0daa589f06371a6f281d3"><span class="keyword">operator</span><span class="special">(</span><span class="special">)</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="id8320"></a><h2>Description</h2>
<p>On construction, the predicate captures the current number of uncaught exceptions, which it then compares with the number of uncaught exceptions at the point when it is called. If the number increased then a new exception is detected and the predicate returns <code class="computeroutput">true</code>.</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../doc/src/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>This predicate is designed for a specific use case with scope guards created on the stack. It is incompatible with C++20 coroutines and similar facilities (e.g. fibers and userspace context switching), where the thread of execution may be suspended after the predicate captures the number of uncaught exceptions and then resumed in a different context, where the number of uncaught exceptions has changed. Similarly, it is incompatible with usage patterns where the predicate is cached after construction and is invoked after the thread has left the scope where the predicate was constructed (e.g. when the predicate is stored as a class data member or a namespace-scope variable). </p></td></tr>
</table></div>
<p>
</p>
<div class="refsect2">
<a name="id8327"></a><h3>
<a name="id4-bb"></a><code class="computeroutput">exception_checker</code> public member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><a name="doxygen.reference.classboost_1_1scope_1_1exception__checker_1a9877123f826925bba34434b6b2f6227a"></a><span class="identifier">exception_checker</span><span class="special">(</span><span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>Constructs the predicate. <p>Upon construction, the predicate saves the current number of uncaught exceptions. This information will be used when calling the predicate to detect if a new exception is being thrown.</p>
<p><span class="bold"><strong>Throws:</strong></span> Nothing. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">result_type</span> <a name="doxygen.reference.classboost_1_1scope_1_1exception__checker_1adfea1712dce0daa589f06371a6f281d3"></a><span class="keyword">operator</span><span class="special">(</span><span class="special">)</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>Checks if an exception is being thrown. <p><span class="bold"><strong>Throws:</strong></span> Nothing.</p>
<p>
</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term">Returns:</span></p></td>
<td><p><code class="computeroutput">true</code> if the number of uncaught exceptions at the point of call is greater than that at the point of construction of the predicate, otherwise <code class="computeroutput">false</code>. </p></td>
</tr></tbody>
</table></div>
</li>
</ol></div>
</div>
</div>
</div>
<div class="copyright-footer">Copyright © 2022-2024 Andrey Semashev<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="https://www.boost.org/LICENSE_1_0.txt" target="_top">https://www.boost.org/LICENSE_1_0.txt</a>).
      </p>
</div>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="error__code__checker_8hpp_1ab8a815ec04a8603fed78745d50382e87.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../reference.html#doxygen.reference.exception__checker_8hpp"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="exception__checker_8hpp_1a29641e1fa2da14116686b4434b949d88.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
