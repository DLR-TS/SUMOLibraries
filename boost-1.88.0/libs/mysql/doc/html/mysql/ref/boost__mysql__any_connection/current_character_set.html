<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>any_connection::current_character_set</title>
<link rel="stylesheet" href="../../../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../../index.html" title="Chapter 1. Boost.MySQL">
<link rel="up" href="../boost__mysql__any_connection.html" title="any_connection">
<link rel="prev" href="backslash_escapes.html" title="any_connection::backslash_escapes">
<link rel="next" href="format_opts.html" title="any_connection::format_opts">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="backslash_escapes.html"><img src="../../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../boost__mysql__any_connection.html"><img src="../../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="format_opts.html"><img src="../../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="mysql.ref.boost__mysql__any_connection.current_character_set"></a><a class="link" href="current_character_set.html" title="any_connection::current_character_set">any_connection::current_character_set</a>
</h5></div></div></div>
<p>
          <a class="indexterm" name="id47746"></a>
Returns the character set used by this
          connection.
        </p>
<h6>
<a name="mysql.ref.boost__mysql__any_connection.current_character_set.h0"></a>
          <span class="phrase"><a name="mysql.ref.boost__mysql__any_connection.current_character_set.synopsis"></a></span><a class="link" href="current_character_set.html#mysql.ref.boost__mysql__any_connection.current_character_set.synopsis">Synopsis</a>
        </h6>
<pre class="programlisting"><span class="identifier">system</span><span class="special">::</span><span class="identifier">result</span><span class="special">&lt;</span> <a class="link" href="../boost__mysql__character_set.html" title="character_set"><code class="literal">character_set</code></a> <span class="special">&gt;</span>
<span class="identifier">current_character_set</span><span class="special">()</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span>
</pre>
<h6>
<a name="mysql.ref.boost__mysql__any_connection.current_character_set.h1"></a>
          <span class="phrase"><a name="mysql.ref.boost__mysql__any_connection.current_character_set.description"></a></span><a class="link" href="current_character_set.html#mysql.ref.boost__mysql__any_connection.current_character_set.description">Description</a>
        </h6>
<p>
          Connections attempt to keep track of the current character set. Deficiencies
          in the protocol can cause the character set to be unknown, though. When
          the character set is known, this function returns the character set currently
          in use. Otherwise, returns <a class="link" href="../boost__mysql__client_errc.html" title="client_errc"><code class="computeroutput"><span class="identifier">client_errc</span><span class="special">::</span><span class="identifier">unknown_character_set</span></code></a>.
        </p>
<p>
          The following functions can modify the return value of this function:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
              Prior to connection, the character set is always unknown.
            </li>
<li class="listitem">
              <a class="link" href="connect.html" title="any_connection::connect"><code class="computeroutput"><span class="identifier">connect</span></code></a> and <a class="link" href="async_connect.html" title="any_connection::async_connect"><code class="computeroutput"><span class="identifier">async_connect</span></code></a> may set the
              current character set to a known value, depending on the requested
              collation.
            </li>
<li class="listitem">
              <a class="link" href="set_character_set.html" title="any_connection::set_character_set"><code class="computeroutput"><span class="identifier">set_character_set</span></code></a> always and
              <a class="link" href="async_set_character_set.html" title="any_connection::async_set_character_set"><code class="computeroutput"><span class="identifier">async_set_character_set</span></code></a> always
              set the current character set to the passed value.
            </li>
<li class="listitem">
              <a class="link" href="reset_connection.html" title="any_connection::reset_connection"><code class="computeroutput"><span class="identifier">reset_connection</span></code></a> and <a class="link" href="async_reset_connection.html" title="any_connection::async_reset_connection"><code class="computeroutput"><span class="identifier">async_reset_connection</span></code></a> always
              makes the current character unknown.
            </li>
</ul></div>
<h6>
<a name="mysql.ref.boost__mysql__any_connection.current_character_set.h2"></a>
          <span class="phrase"><a name="mysql.ref.boost__mysql__any_connection.current_character_set.avoid_changing_the_character_set"></a></span><a class="link" href="current_character_set.html#mysql.ref.boost__mysql__any_connection.current_character_set.avoid_changing_the_character_set">Avoid
          changing the character set directly</a>
        </h6>
<p>
          If you change the connection's character set directly using SQL statements
          like <code class="computeroutput"><span class="string">"SET NAMES utf8mb4"</span></code>,
          the client has no way to track this change, and this function will return
          incorrect results.
        </p>
<h6>
<a name="mysql.ref.boost__mysql__any_connection.current_character_set.h3"></a>
          <span class="phrase"><a name="mysql.ref.boost__mysql__any_connection.current_character_set.errors"></a></span><a class="link" href="current_character_set.html#mysql.ref.boost__mysql__any_connection.current_character_set.errors">Errors</a>
        </h6>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
              <a class="link" href="../boost__mysql__client_errc.html" title="client_errc"><code class="computeroutput"><span class="identifier">client_errc</span><span class="special">::</span><span class="identifier">unknown_character_set</span></code></a>
              if the current character set is unknown.
            </li></ul></div>
<h6>
<a name="mysql.ref.boost__mysql__any_connection.current_character_set.h4"></a>
          <span class="phrase"><a name="mysql.ref.boost__mysql__any_connection.current_character_set.exception_safety"></a></span><a class="link" href="current_character_set.html#mysql.ref.boost__mysql__any_connection.current_character_set.exception_safety">Exception
          safety</a>
        </h6>
<p>
          No-throw guarantee.
        </p>
</div>
<div class="copyright-footer">Copyright © 2019-2024 Ruben Perez<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="backslash_escapes.html"><img src="../../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../boost__mysql__any_connection.html"><img src="../../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="format_opts.html"><img src="../../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
