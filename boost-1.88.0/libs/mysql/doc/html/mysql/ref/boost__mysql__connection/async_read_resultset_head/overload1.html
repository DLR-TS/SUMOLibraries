<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>connection::async_read_resultset_head (1 of 2 overloads)</title>
<link rel="stylesheet" href="../../../../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../../../index.html" title="Chapter 1. Boost.MySQL">
<link rel="up" href="../async_read_resultset_head.html" title="connection::async_read_resultset_head">
<link rel="prev" href="../async_read_resultset_head.html" title="connection::async_read_resultset_head">
<link rel="next" href="overload2.html" title="connection::async_read_resultset_head (2 of 2 overloads)">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../async_read_resultset_head.html"><img src="../../../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../async_read_resultset_head.html"><img src="../../../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="overload2.html"><img src="../../../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h6 class="title">
<a name="mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1"></a><a class="link" href="overload1.html" title="connection::async_read_resultset_head (1 of 2 overloads)">connection::async_read_resultset_head
          (1 of 2 overloads)</a>
</h6></div></div></div>
<p>
            Reads metadata for subsequent resultsets in a multi-resultset operation.
          </p>
<h6>
<a name="mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.h0"></a>
            <span class="phrase"><a name="mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.synopsis"></a></span><a class="link" href="overload1.html#mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.synopsis">Synopsis</a>
          </h6>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span>
    <span class="keyword">class</span> <a class="link" href="../../boost__mysql__ExecutionStateType.html" title="ExecutionStateType concept"><code class="literal"><span class="emphasis"><em>ExecutionStateType</em></span></code></a><span class="special">,</span>
    <span class="keyword">class</span> <a href="../../../../../../../../doc/html/boost_asio/reference/asynchronous_operations.html#boost_asio.reference.asynchronous_operations.completion_tokens_and_handlers" target="_top"><span class="emphasis"><em>CompletionToken</em></span></a><span class="special">&gt;</span>
<span class="keyword">auto</span>
<span class="identifier">async_read_resultset_head</span><span class="special">(</span>
    <span class="identifier">ExecutionStateType</span><span class="special">&amp;</span> <span class="identifier">st</span><span class="special">,</span>
    <span class="identifier">CompletionToken</span><span class="special">&amp;&amp;</span> <span class="identifier">token</span><span class="special">);</span>
</pre>
<h6>
<a name="mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.h1"></a>
            <span class="phrase"><a name="mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.description"></a></span><a class="link" href="overload1.html#mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.description">Description</a>
          </h6>
<p>
            If <code class="computeroutput"><span class="identifier">st</span><span class="special">.</span><span class="identifier">should_read_head</span><span class="special">()</span>
            <span class="special">==</span> <span class="keyword">true</span></code>,
            this function will read the next resultset's initial response message
            and metadata, if any. If the resultset indicates a failure (e.g. the
            query associated to this resultset contained an error), this function
            will fail with that error.
          </p>
<p>
            If <code class="computeroutput"><span class="identifier">st</span><span class="special">.</span><span class="identifier">should_read_head</span><span class="special">()</span>
            <span class="special">==</span> <span class="keyword">false</span></code>,
            this function is a no-op.
          </p>
<p>
            <code class="computeroutput"><span class="identifier">st</span></code> may be either an
            <a class="link" href="../../boost__mysql__execution_state.html" title="execution_state"><code class="computeroutput"><span class="identifier">execution_state</span></code></a> or <a class="link" href="../../boost__mysql__static_execution_state.html" title="static_execution_state"><code class="computeroutput"><span class="identifier">static_execution_state</span></code></a> object.
          </p>
<p>
            This function is only relevant when using multi-function operations with
            statements that return more than one resultset.
          </p>
<p>
            When using the static interface, this function will detect schema mismatches
            for the resultset currently being read. Further errors may be detected
            by subsequent invocations of this function and by <a class="link" href="../read_some_rows.html" title="connection::read_some_rows"><code class="computeroutput"><span class="identifier">read_some_rows</span></code></a>.
          </p>
<h6>
<a name="mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.h2"></a>
            <span class="phrase"><a name="mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.handler_signature"></a></span><a class="link" href="overload1.html#mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.handler_signature">Handler
            signature</a>
          </h6>
<p>
            The handler signature for this operation is <code class="computeroutput"><span class="keyword">void</span><span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mysql</span><span class="special">::</span><span class="identifier">error_code</span><span class="special">)</span></code>.
          </p>
<h6>
<a name="mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.h3"></a>
            <span class="phrase"><a name="mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.executor"></a></span><a class="link" href="overload1.html#mysql.ref.boost__mysql__connection.async_read_resultset_head.overload1.executor">Executor</a>
          </h6>
<p>
            Intermediate completion handlers, as well as the final handler, are executed
            using <code class="computeroutput"><span class="identifier">token</span></code>'s associated
            executor, or <code class="computeroutput"><span class="keyword">this</span><span class="special">-&gt;</span><span class="identifier">get_executor</span><span class="special">()</span></code>
            if the token doesn't have an associated executor.
          </p>
<p>
            If the final handler has an associated immediate executor, and the operation
            completes immediately, the final handler is dispatched to it. Otherwise,
            the final handler is called as if it was submitted using <code class="computeroutput"><span class="identifier">asio</span><span class="special">::</span><span class="identifier">post</span></code>, and is never be called inline
            from within this function.
          </p>
</div>
<div class="copyright-footer">Copyright © 2019-2024 Ruben Perez<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../async_read_resultset_head.html"><img src="../../../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../async_read_resultset_head.html"><img src="../../../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="overload2.html"><img src="../../../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
