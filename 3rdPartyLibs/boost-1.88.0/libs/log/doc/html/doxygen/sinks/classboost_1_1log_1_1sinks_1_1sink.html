<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Class sink</title>
<link rel="stylesheet" href="../../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../index.html" title="Chapter 1. Boost.Log v2">
<link rel="up" href="../../sinks.html#doxygen.sinks.sink_8hpp" title="Header &lt;boost/log/sinks/sink.hpp&gt;">
<link rel="prev" href="frontend__requirements_8hpp_1adc4dfee65bec6d1237dbd0574ebef75b.html" title="Macro BOOST_LOG_COMBINE_REQUIREMENTS_LIMIT">
<link rel="next" href="classboost_1_1log_1_1sinks_1_1synchronous__sink.html" title="Class template synchronous_sink">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="frontend__requirements_8hpp_1adc4dfee65bec6d1237dbd0574ebef75b.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../sinks.html#doxygen.sinks.sink_8hpp"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="classboost_1_1log_1_1sinks_1_1synchronous__sink.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class sink</span></h2>
<p>boost::log::sinks::sink — A base class for a logging sink frontend. </p>
</div>
<h2 class="refsynopsisdiv-title">Synopsis</h2>
<div class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../../sinks.html#doxygen.sinks.sink_8hpp" title="Header &lt;boost/log/sinks/sink.hpp&gt;">boost/log/sinks/sink.hpp</a>&gt;

</span>
<span class="keyword">class</span> <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html" title="Class sink">sink</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// types</span>
  <span class="keyword">typedef</span> <span class="emphasis"><em><span class="identifier">unspecified</span></em></span> <a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a72d6ce5d5f1a9808d74aaf03dbf8d05f"></a><span class="identifier">exception_handler_type</span><span class="special">;</span>  <span class="comment">// An exception handler type. </span>

  <span class="comment">// <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#id160-bb">public member functions</a></span>
  <span class="keyword">explicit</span> <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1adbc6a2adb9529a1b78bfbfbf4295938a"><span class="identifier">sink</span></a><span class="special">(</span><span class="keyword">bool</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">virtual</span> <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1ac237f1a935b29c802f1a4fe28034bfc7"><span class="special">~</span><span class="identifier">sink</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">virtual</span> <span class="keyword">bool</span> <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1ae5761e0d0a778bb64b67d865fa9f9817"><span class="identifier">will_consume</span></a><span class="special">(</span><span class="identifier">attribute_value_set</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span> <span class="special">=</span> <span class="number">0</span><span class="special">;</span>
  <span class="keyword">virtual</span> <span class="keyword">void</span> <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a7b7682ceba0347d7601196ef53db0f28"><span class="identifier">consume</span></a><span class="special">(</span><span class="identifier">record_view</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span> <span class="special">=</span> <span class="number">0</span><span class="special">;</span>
  <span class="keyword">virtual</span> <span class="keyword">bool</span> <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a9f6f654454833f7fa468a3ac803df80b"><span class="identifier">try_consume</span></a><span class="special">(</span><span class="identifier">record_view</span> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">virtual</span> <span class="keyword">void</span> <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a50ab71f4bc571f6e246b20db4b3dd131"><span class="identifier">flush</span></a><span class="special">(</span><span class="special">)</span> <span class="special">=</span> <span class="number">0</span><span class="special">;</span>
  <span class="keyword">bool</span> <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a9abdb00a763609be6b8c6ffd00fe4b84"><span class="identifier">is_cross_thread</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a7bfcd029cfad8d8601e4160933787181"><span class="identifier">sink</span></a><span class="special">(</span><a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html" title="Class sink">sink</a> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span>
  <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html" title="Class sink">sink</a> <span class="special">&amp;</span> <a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html#doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1afd8ff781302e01d5d9507f14a662b723"><span class="keyword">operator</span><span class="special">=</span></a><span class="special">(</span><a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html" title="Class sink">sink</a> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="id69491"></a><h2>Description</h2>
<div class="refsect2">
<a name="id69493"></a><h3>
<a name="id160-bb"></a><code class="computeroutput">sink</code> public member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><span class="keyword">explicit</span> <a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1adbc6a2adb9529a1b78bfbfbf4295938a"></a><span class="identifier">sink</span><span class="special">(</span><span class="keyword">bool</span> cross_thread<span class="special">)</span><span class="special">;</span></pre>
<p>Default constructor </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">virtual</span> <a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1ac237f1a935b29c802f1a4fe28034bfc7"></a><span class="special">~</span><span class="identifier">sink</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Virtual destructor </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">virtual</span> <span class="keyword">bool</span> <a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1ae5761e0d0a778bb64b67d865fa9f9817"></a><span class="identifier">will_consume</span><span class="special">(</span><span class="identifier">attribute_value_set</span> <span class="keyword">const</span> <span class="special">&amp;</span> attributes<span class="special">)</span> <span class="special">=</span> <span class="number">0</span><span class="special">;</span></pre>
<p>The method returns <code class="computeroutput">true</code> if no filter is set or the attribute values pass the filter</p>
<p>
</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><code class="computeroutput">attributes</code></span></p></td>
<td><p>A set of attribute values of a logging record </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">virtual</span> <span class="keyword">void</span> <a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a7b7682ceba0347d7601196ef53db0f28"></a><span class="identifier">consume</span><span class="special">(</span><span class="identifier">record_view</span> <span class="keyword">const</span> <span class="special">&amp;</span> rec<span class="special">)</span> <span class="special">=</span> <span class="number">0</span><span class="special">;</span></pre>
<p>The method puts logging record to the sink</p>
<p>
</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><code class="computeroutput">rec</code></span></p></td>
<td><p>Logging record to consume </p></td>
</tr></tbody>
</table></div></td>
</tr></tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">virtual</span> <span class="keyword">bool</span> <a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a9f6f654454833f7fa468a3ac803df80b"></a><span class="identifier">try_consume</span><span class="special">(</span><span class="identifier">record_view</span> <span class="keyword">const</span> <span class="special">&amp;</span> rec<span class="special">)</span><span class="special">;</span></pre>
<p>The method attempts to put logging record to the sink. The method may be used by the core in order to determine the most efficient order of sinks to feed records to in case of heavy contention. Sink implementations may implement try/backoff logic in order to improve overall logging throughput.</p>
<p>

</p>
<div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term">Parameters:</span></p></td>
<td><div class="variablelist"><table border="0" class="variablelist compact">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody><tr>
<td><p><span class="term"><code class="computeroutput">rec</code></span></p></td>
<td><p>Logging record to consume </p></td>
</tr></tbody>
</table></div></td>
</tr>
<tr>
<td><p><span class="term">Returns:</span></p></td>
<td><p><code class="computeroutput">true</code>, if the record was consumed, <code class="computeroutput">false</code>, if not. </p></td>
</tr>
</tbody>
</table></div>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">virtual</span> <span class="keyword">void</span> <a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a50ab71f4bc571f6e246b20db4b3dd131"></a><span class="identifier">flush</span><span class="special">(</span><span class="special">)</span> <span class="special">=</span> <span class="number">0</span><span class="special">;</span></pre>
<p>The method performs flushing of any internal buffers that may hold log records. The method may take considerable time to complete and may block both the calling thread and threads attempting to put new records into the sink while this call is in progress. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">bool</span> <a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a9abdb00a763609be6b8c6ffd00fe4b84"></a><span class="identifier">is_cross_thread</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>The method indicates that the sink passes log records between different threads. This information is needed by the logging core to detach log records from all thread-specific resources before passing it to the sink. </p>
</li>
<li class="listitem"><pre class="literallayout"><a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1a7bfcd029cfad8d8601e4160933787181"></a><span class="identifier">sink</span><span class="special">(</span><a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html" title="Class sink">sink</a> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span></pre></li>
<li class="listitem"><pre class="literallayout"><a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html" title="Class sink">sink</a> <span class="special">&amp;</span> <a name="doxygen.sinks.classboost_1_1log_1_1sinks_1_1sink_1afd8ff781302e01d5d9507f14a662b723"></a><span class="keyword">operator</span><span class="special">=</span><span class="special">(</span><a class="link" href="classboost_1_1log_1_1sinks_1_1sink.html" title="Class sink">sink</a> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span> <span class="special">=</span> <span class="keyword">delete</span><span class="special">;</span></pre></li>
</ol></div>
</div>
</div>
</div>
<div class="copyright-footer">Copyright © 2007-2024 Andrey Semashev<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>).
      </p>
</div>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="frontend__requirements_8hpp_1adc4dfee65bec6d1237dbd0574ebef75b.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../sinks.html#doxygen.sinks.sink_8hpp"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="classboost_1_1log_1_1sinks_1_1synchronous__sink.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
