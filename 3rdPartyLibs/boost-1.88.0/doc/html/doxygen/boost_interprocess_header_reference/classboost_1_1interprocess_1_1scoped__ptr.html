<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Class template scoped_ptr</title>
<link rel="stylesheet" href="../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../../interprocess/indexes_reference.html#doxygen.boost_interprocess_header_reference.scoped__ptr_8hpp" title="Header &lt;boost/interprocess/smart_ptr/scoped_ptr.hpp&gt;">
<link rel="prev" href="intrusive__ptr_8hpp_1abf3e3e6d4d2614e0366e5fa11d4b46f9.html" title="Function template to_raw_pointer">
<link rel="next" href="scoped__ptr_8hpp_1a843672aca6a894605303494cb8b1dfc0.html" title="Function template swap">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="intrusive__ptr_8hpp_1abf3e3e6d4d2614e0366e5fa11d4b46f9.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../interprocess/indexes_reference.html#doxygen.boost_interprocess_header_reference.scoped__ptr_8hpp"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="scoped__ptr_8hpp_1a843672aca6a894605303494cb8b1dfc0.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class template scoped_ptr</span></h2>
<p>boost::interprocess::scoped_ptr</p>
</div>
<h2 class="refsynopsisdiv-title">Synopsis</h2>
<div class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../../interprocess/indexes_reference.html#doxygen.boost_interprocess_header_reference.scoped__ptr_8hpp" title="Header &lt;boost/interprocess/smart_ptr/scoped_ptr.hpp&gt;">boost/interprocess/smart_ptr/scoped_ptr.hpp</a>&gt;

</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> T<span class="special">,</span> <span class="keyword">typename</span> Deleter<span class="special">&gt;</span> 
<span class="keyword">class</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html" title="Class template scoped_ptr">scoped_ptr</a> <span class="special">:</span> <span class="keyword">private</span> <span class="identifier">Deleter</span> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// types</span>
  <span class="keyword">typedef</span> <span class="identifier">T</span>                    <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a3399a4f4341bb973038bb31c43efa555"></a><span class="identifier">element_type</span><span class="special">;</span>         
  <span class="keyword">typedef</span> <span class="identifier">Deleter</span>              <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1ad76cc889b77bddaf17b6c2687e00d228"></a><span class="identifier">deleter_type</span><span class="special">;</span>         
  <span class="keyword">typedef</span> <span class="emphasis"><em><span class="identifier">unspecified</span></em></span>          <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1aeb3b20cd6af89b0eab7f682c526dc7c3"></a><span class="identifier">pointer</span><span class="special">;</span>              
  <span class="keyword">typedef</span> <span class="identifier">pointer</span> <span class="identifier">this_type</span><span class="special">::</span><span class="special">*</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1abf886823d3dc83760e43d5c91e72beb2"></a><span class="identifier">unspecified_bool_type</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="../boost_container_header_reference/classboost_1_1container_1_1new__allocator.html#id64-bb">public member functions</a></span>
  <span class="keyword">explicit</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a5cc26fe9e64610731d1b30d3dd1aa093"><span class="identifier">scoped_ptr</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <span class="special">=</span> <span class="number">0</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">Deleter</span> <span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">Deleter</span><span class="special">(</span><span class="special">)</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a3766d806afca9ac314e6c3facd5b14fe"><span class="special">~</span><span class="identifier">scoped_ptr</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a4e2056cd1c26c60d26fb84363d1f3973"><span class="identifier">reset</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <span class="special">=</span> <span class="number">0</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1af942c55d15aebe4f3ccb44eb564780f1"><span class="identifier">reset</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">Deleter</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">pointer</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a69bca053c76181953eecd94552503761"><span class="identifier">release</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <span class="identifier">reference</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a46d79dc3052124ec94cc240384e90bb7"><span class="keyword">operator</span><span class="special">*</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <span class="identifier">pointer</span> <span class="special">&amp;</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a07e7d822d8171f30b930883ec0a14e3e"><span class="keyword">operator</span><span class="special">-&gt;</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a417f0f198dfce5e09134ac07f3d0cf6b"><span class="keyword">operator</span><span class="special">-&gt;</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <span class="identifier">pointer</span> <span class="special">&amp;</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1aa86900e99fec50fa8b4527f677fca417"><span class="identifier">get</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1ac03b9b6d36e625d34e18d785eec29c12"><span class="identifier">get</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a3e742af91d57ff5ce19bbe931de1f647"><span class="keyword">operator</span> <span class="identifier">unspecified_bool_type</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <span class="keyword">bool</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a187153721919e3555e3c240e67d00b8c"><span class="keyword">operator</span><span class="special">!</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1abb31f34e1a71719458892359ce7b6da2"><span class="identifier">swap</span></a><span class="special">(</span><a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html" title="Class template scoped_ptr">scoped_ptr</a> <span class="special">&amp;</span><span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="id-1.3.16.19.3.50.4.4"></a><h2>Description</h2>
<p><a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html" title="Class template scoped_ptr">scoped_ptr</a> stores a pointer to a dynamically allocated object. The object pointed to is guaranteed to be deleted, either on destruction of the <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html" title="Class template scoped_ptr">scoped_ptr</a>, or via an explicit reset. The user can avoid this deletion using <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html#doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a69bca053c76181953eecd94552503761">release()</a>. <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html" title="Class template scoped_ptr">scoped_ptr</a> is parameterized on T (the type of the object pointed to) and Deleter (the functor to be executed to delete the internal pointer). The internal pointer will be of the same pointer type as typename Deleter::pointer type (that is, if typename Deleter::pointer is offset_ptr&lt;void&gt;, the internal pointer will be offset_ptr&lt;T&gt;). </p>
<div class="refsect2">
<a name="id-1.3.16.19.3.50.4.4.3"></a><h3>
<a name="id64-bb"></a><code class="computeroutput">scoped_ptr</code> public member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><span class="keyword">explicit</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a5cc26fe9e64610731d1b30d3dd1aa093"></a><span class="identifier">scoped_ptr</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> p <span class="special">=</span> <span class="number">0</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">Deleter</span> <span class="special">&amp;</span> d <span class="special">=</span> <span class="identifier">Deleter</span><span class="special">(</span><span class="special">)</span><span class="special">)</span><span class="special">;</span></pre>
<p>Constructs a <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html" title="Class template scoped_ptr">scoped_ptr</a>, storing a copy of p(which can be 0) and d. Does not throw. </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a3766d806afca9ac314e6c3facd5b14fe"></a><span class="special">~</span><span class="identifier">scoped_ptr</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>If the stored pointer is not 0, destroys the object pointed to by the stored pointer. calling the operator() of the stored deleter. Never throws </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a4e2056cd1c26c60d26fb84363d1f3973"></a><span class="identifier">reset</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> p <span class="special">=</span> <span class="number">0</span><span class="special">)</span><span class="special">;</span></pre>
<p>Deletes the object pointed to by the stored pointer and then stores a copy of p. Never throws </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1af942c55d15aebe4f3ccb44eb564780f1"></a><span class="identifier">reset</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> p<span class="special">,</span> <span class="keyword">const</span> <span class="identifier">Deleter</span> <span class="special">&amp;</span> d<span class="special">)</span><span class="special">;</span></pre>
<p>Deletes the object pointed to by the stored pointer and then stores a copy of p and a copy of d. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">pointer</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a69bca053c76181953eecd94552503761"></a><span class="identifier">release</span><span class="special">(</span><span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>Assigns internal pointer as 0 and returns previous pointer. This will avoid deletion on destructor </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">reference</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a46d79dc3052124ec94cc240384e90bb7"></a><span class="keyword">operator</span><span class="special">*</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>Returns a reference to the object pointed to by the stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">pointer</span> <span class="special">&amp;</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a07e7d822d8171f30b930883ec0a14e3e"></a><span class="keyword">operator</span><span class="special">-&gt;</span><span class="special">(</span><span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>Returns the internal stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a417f0f198dfce5e09134ac07f3d0cf6b"></a><span class="keyword">operator</span><span class="special">-&gt;</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>Returns the internal stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">pointer</span> <span class="special">&amp;</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1aa86900e99fec50fa8b4527f677fca417"></a><span class="identifier">get</span><span class="special">(</span><span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>Returns the stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1ac03b9b6d36e625d34e18d785eec29c12"></a><span class="identifier">get</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>Returns the stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a3e742af91d57ff5ce19bbe931de1f647"></a><span class="keyword">operator</span> <span class="identifier">unspecified_bool_type</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>Conversion to bool Never throws </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">bool</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1a187153721919e3555e3c240e67d00b8c"></a><span class="keyword">operator</span><span class="special">!</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>Returns true if the stored pointer is 0. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="doxygen.boost_interprocess_header_reference.classboost_1_1interprocess_1_1scoped__ptr_1abb31f34e1a71719458892359ce7b6da2"></a><span class="identifier">swap</span><span class="special">(</span><a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html" title="Class template scoped_ptr">scoped_ptr</a> <span class="special">&amp;</span> b<span class="special">)</span> <span class="keyword">noexcept</span><span class="special">;</span></pre>
<p>Exchanges the internal pointer and deleter with other <a class="link" href="classboost_1_1interprocess_1_1scoped__ptr.html" title="Class template scoped_ptr">scoped_ptr</a> Never throws. </p>
</li>
</ol></div>
</div>
</div>
</div>
<div class="copyright-footer">Copyright © 2005-2024 Ion Gaztanaga<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="intrusive__ptr_8hpp_1abf3e3e6d4d2614e0366e5fa11d4b46f9.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../interprocess/indexes_reference.html#doxygen.boost_interprocess_header_reference.scoped__ptr_8hpp"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="scoped__ptr_8hpp_1a843672aca6a894605303494cb8b1dfc0.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
